<!-- ============================================ -->
<!-- TRANSACTION HISTORY MODAL -->
<!-- File: views/modals/table/transactionHistory.ejs -->
<!-- Description: Modal to display transaction history for a table -->
<!-- ============================================ -->

<div class="modal fade" id="modal-transaction_history" role="dialog" aria-labelledby="transactionHistoryLabel" aria-hidden="true"
	data-keyboard="false" data-bs-backdrop="static">
	<div class="modal-dialog modal-dialog-centered modal-xl" role="document">
		<div class="modal-content">
			<div class="modal-header" style="background-color: #DB5363;">
				<h5 class="block-title text-white">
					<i class="fa fa-history me-2"></i>Transaction History - Table <span id="transaction_history_table_number"></span>
				</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body" style="overflow-x: auto;">
				<!-- Loading State -->
				<div id="transaction_history_loading" class="text-center py-5">
					<div class="spinner-border text-success" role="status">
						<span class="visually-hidden">Loading...</span>
					</div>
					<p class="mt-3 text-muted">Loading transaction history...</p>
				</div>

				<!-- Empty State -->
				<div id="transaction_history_empty" class="text-center py-5" style="display: none;">
					<i class="fa fa-receipt fa-3x text-muted mb-3"></i>
					<p class="text-muted">No transactions found for this table.</p>
				</div>

				<!-- Transaction History Table -->
				<div id="transaction_history_content" style="display: none;">
					<div class="table-responsive" style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
						<table class="table table-hover table-striped" style="min-width: 800px; width: 100%;">
							<thead class="table-success">
								<tr>
									<th>Order No</th>
									<th>Order Type</th>
									<th>Status</th>
									<th>Subtotal</th>
									<th>Tax</th>
									<th>Service</th>
									<th>Discount</th>
									<th>Grand Total</th>
									<th>Date</th>
									<th>Created By</th>
								</tr>
							</thead>
							<tbody id="transaction_history_tbody">
								<!-- Transaction rows will be inserted here -->
							</tbody>
							<tfoot class="table-light">
								<tr>
									<th colspan="3" class="text-end">Total:</th>
									<th id="total_subtotal">₱0.00</th>
									<th id="total_tax">₱0.00</th>
									<th id="total_service">₱0.00</th>
									<th id="total_discount">₱0.00</th>
									<th id="total_grand_total" class="text-success">₱0.00</th>
									<th colspan="2"></th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-sm btn-alt-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
