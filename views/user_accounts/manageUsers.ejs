<%- include('../partials/header') %>
<%- include('../partials/loader') %>
	<%- include('../partials/sidebar') %>

		<%- include('../partials/topbar') %>

			<div class="container-fluid content-inner mt-4">
				<div class="row">
					<div class="col-sm-12">
						<div class="card">
							<div class="card-header d-flex justify-content-between align-items-center">
								
								<h3 class="card-title"><div class="breadcrumb1 flat">
									<a href="/dashboard" ><span class="fa fa-home"></span></a>
									<a href="/manageUsers"class="active"><%= __('manage_users.manage_users') %></a>
								</div></h3>
									<button type="button" class="btn btn-primary" onclick="add_user_modal()">
										<i class="fa fa-plus" aria-hidden="true"></i> <%= __('manage_users.new_user') %>
									</button>
								
							</div>


							<div class="card-body">
																
								<table id="usersTable" class="table  nowrap small-text" style="width:100%">
									<thead>
										<tr>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.last_name') %></th>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.first_name') %></th>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.username') %></th>
											<% if (permissions === 1) { %>
											<th class="d-none d-sm-table-cell">Branch</th>
											<% } %>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.permission') %></th>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.status') %></th>
											<th class="d-none d-sm-table-cell"><%= __('manage_users.action') %></th>
										</tr>
									</thead>
									<tbody>

									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>


			<%- include ('../modals/user_accounts/newUserAccount'); %>
				<%- include ('../modals/user_accounts/editUserAccount'); %>

					<%- include ('../partials/footer'); -%>

					<!-- Translations passed via data attribute to avoid linter issues -->
					<div id="manageUsersTranslations" 
						data-permissions="<%= (typeof permissions !== 'undefined' && permissions !== null) ? permissions : 0 %>"
						data-active="<%- __('manage_users.active') %>" 
						data-inactive="<%- __('manage_users.inactive') %>"
						data-delete="<%- __('manage_users.delete') %>"
						data-edit="<%- __('manage_users.edit') %>"
						data-error="<%- __('manage_users.error') %>"
						data-failed-to-load-users="<%- __('manage_users.failed_to_load_users') %>"
						data-pagination-showing="<%- __('manage_users.pagination.showing') %>"
						data-pagination-to="<%- __('manage_users.pagination.to') %>"
						data-pagination-of="<%- __('manage_users.pagination.of') %>"
						data-pagination-entries="<%- __('manage_users.pagination.entries') %>"
						data-pagination-previous="<%- __('manage_users.pagination.previous') %>"
						data-pagination-next="<%- __('manage_users.pagination.next') %>"
						data-pagination-search="<%- __('manage_users.pagination.search') %>"
						data-pagination-search-placeholder="<%- __('manage_users.pagination.search_placeholder') %>"
						style="display: none;"></div>
					<script src="/assets/js/functions/manageUsers.js?v=2026-01-21-users-branch"></script>
						

						<script>
							$('.js-select2').select2({
								placeholder: 'Select an option',
								dropdownParent: '#modal-new_user'
							});
						</script>

						<style>
							.card-body {
  overflow-x: auto;
}
#usersTable {
    width: 100%;
    font-size: 13px;
    border-collapse: collapse;
}

/* Header styles */
#usersTable thead th {
    background: var(--bs-primary-bg-subtle);
    color: var(--bs-primary);
    font-weight: 500;
    padding: 12px 15px;
    text-align: left;
    border: none;
}

/* Row styles */
	#usersTable tbody tr {
    border-bottom: 1px solid #eee;
}

/* Cell styles */
#usersTable td {
    padding: 12px 15px;
    color: #666;
}

#usersTable tbody tr:hover {
  background-color: #f5f5f5 !important;
}



/* Balance column */
#usersTable td:last-child {
    text-align: center;
    color: #333;
}


/* Footer total row */


#usersTable tfoot th {
    padding: 10px;
    font-weight: 600;
  
    color: #333;
    background-color: #f4f6fa;
    border-top: 2px solid #dee2e6;
}
@media (max-width: 768px) {
    #usersTable {
        font-size: 10px; /* Mas maliit sa mobile */
    }

    #usersTable th,
    #usersTable td {
        padding: 5px;
    }
}
							/* Itago ang text na "Show" at "entries" sa DataTables */
							.dataTables_length label {
								font-size: 0; /* Itatago ang text */
							}
							
							/* Panatilihin ang dropdown na nakikita */
							.dataTables_length select {
								font-size: 12px; /* Ibalik ang font size ng dropdown */
							}
							
							
							
								/* Adjust spacing and alignment for date range picker */
							.dataTables_wrapper .row {
								margin-bottom: 15px;
								font-size: 12px; /* Pareho sa commission-tbl */
							}
							
							/* Flexbox layout for the date range picker */
							.input-daterange {
								display: flex;
								justify-content: space-between;
								position: relative;
								left: 7.5rem;
								top: 3.5rem;
								max-width: 300px;
								font-size: 12px; /* Pareho sa commission-tbl */
							}
							
							/* Styling for form controls */
							.input-daterange .form-control {
								flex: 1;
								margin-right: 5px;
								max-width: 120px;
								font-size: 12px; /* Pareho sa commission-tbl */
								padding: 8px; /* Pareho sa cell padding ng table */
							}
							
							/* Remove margin from the last input */
							.input-daterange .form-control:last-child {
								margin-right: 0;
							}
							
							/* Responsive tweaks */
							@media (max-width: 768px) {
								.dataTables_wrapper .row,
								.input-daterange,
								.input-daterange .form-control {
									font-size: 10px; /* Mas maliit sa mobile */
								}
							
								.input-daterange .form-control {
									padding: 5px; /* Mas maliit na padding */
								}
							}
						</style>

